{"version":3,"file":"static/js/746.4bf3e770.chunk.js","mappings":"0NACA,EAAyB,uB,oCCwEzB,EAjEe,WACb,OAAgCA,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MAMXC,EAAcJ,EAAaK,IAAI,QAmBrC,OAjBAC,EAAAA,EAAAA,YAAU,WACY,OAAhBF,IACFN,GAAW,IAEXS,EAAAA,EAAAA,IAAYH,GACTI,MAAK,SAAAC,GACJb,EAAYa,EAAKC,QAClB,IACAC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EACf,IACAE,SAAQ,WACPhB,GAAW,EACZ,IAEN,GAAE,CAACM,KAGF,iBAAKW,UAAWC,EAAhB,WACE,kBACEC,KAAK,OACLC,YAAY,eACZC,SAAUC,KA5BD,SAAAC,GACbpB,EAAgB,CAAEqB,KAAMD,EAAEE,OAAOC,OAClC,GA0BgC,OAG5B3B,GACC,sCACsB,IAApBF,EAAS8B,QACX,gDAEA,wBACG9B,EAAS+B,KAAI,SAAAC,GAAI,OAChB,yBACE,UAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAKE,IAAMC,MAAO,CAAEC,KAAM7B,GAA/C,WACE,wBAAKyB,EAAKK,QAETL,EAAKM,aACJ,gBACEC,IAAG,UApDA,oCAoDA,OAAsBP,EAAKM,aAC9BE,IAAI,iBAGN,sDAVGR,EAAKE,GADE,QAoB3B,C,kBCzDD,SAAST,EAASgB,EAAMC,EAAMC,GAC5B,IAAIC,EAASC,EAAMC,EAASC,EAAWC,EAGvC,SAASC,IACP,IAAIC,EAAOC,KAAKC,MAAQL,EAEpBG,EAAOR,GAAQQ,GAAQ,EACzBN,EAAUS,WAAWJ,EAAOP,EAAOQ,IAEnCN,EAAU,KACLD,IACHK,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,MAGtB,CAdG,MAAQH,IAAMA,EAAO,KAgBzB,IAAIa,EAAY,WACdT,EAAUU,KACVX,EAAOY,UACPV,EAAYI,KAAKC,MACjB,IAAIM,EAAUf,IAAcC,EAO5B,OANKA,IAASA,EAAUS,WAAWJ,EAAOP,IACtCgB,IACFV,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,MAGZG,CACR,EAmBD,OAjBAO,EAAUI,MAAQ,WACZf,IACFgB,aAAahB,GACbA,EAAU,KAEb,EAEDW,EAAUM,MAAQ,WACZjB,IACFI,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,KAEjBe,aAAahB,GACbA,EAAU,KAEb,EAEMW,CACR,CAGD9B,EAASA,SAAWA,EAEpBqC,EAAOC,QAAUtC,C","sources":["webpack://react-homework-template/./src/components/02_Movies/Movies.module.scss?af2d","components/02_Movies/Movies.js","../node_modules/debounce/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Movies\":\"Movies_Movies__C7hQW\"};","import React, { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport css from './Movies.module.scss';\nimport debounce from 'debounce';\nimport { fetchSearch } from '../../api/getMovies';\n\nconst BASE_IMAGE_URL = 'https://image.tmdb.org/t/p/w200/';\n\nconst Movies = () => {\n  const [arrFilms, setArrFilms] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  const search = e => {\n    setSearchParams({ name: e.target.value });\n  };\n\n  const filmsSearch = searchParams.get('name');\n\n  useEffect(() => {\n    if (filmsSearch !== null) {\n      setLoading(true); // Починаємо показувати \"Loading...\"\n\n      fetchSearch(filmsSearch)\n        .then(data => {\n          setArrFilms(data.results);\n        })\n        .catch(error => {\n          console.error(error);\n        })\n        .finally(() => {\n          setLoading(false); // Приховуємо \"Loading...\" після завершення запиту\n        });\n    }\n  }, [filmsSearch]);\n\n  return (\n    <div className={css['Movies']}>\n      <input\n        type=\"text\"\n        placeholder=\"search films\"\n        onChange={debounce(search, 1000)}\n      />\n\n      {loading ? (\n        <p>Loading...</p>\n      ) : arrFilms.length === 0 ? (\n        <p>No films available.</p>\n      ) : (\n        <ul>\n          {arrFilms.map(item => (\n            <li key={item.id}>\n              <Link to={`/movies/${item.id}`} state={{ from: location }}>\n                <h3>{item.title}</h3>\n\n                {item.poster_path ? (\n                  <img\n                    src={`${BASE_IMAGE_URL}${item.poster_path}`}\n                    alt=\"Cast Member\"\n                  />\n                ) : (\n                  <span>Image not available</span>\n                )}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n"],"names":["useState","arrFilms","setArrFilms","loading","setLoading","useSearchParams","searchParams","setSearchParams","location","useLocation","filmsSearch","get","useEffect","fetchSearch","then","data","results","catch","error","console","finally","className","css","type","placeholder","onChange","debounce","e","name","target","value","length","map","item","to","id","state","from","title","poster_path","src","alt","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush","module","exports"],"sourceRoot":""}